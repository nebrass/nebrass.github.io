<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Playing with Azure Monitor services and Spring Boot | Nebrass Homepage</title>
<meta name=keywords content>
<meta name=description content="In enterprise application, performance is major requirement of success. Especially for applications where slowness will have a direct detrimental impact on business productivity, profits and even the brand itself, like trading platforms and e-commerces.
If a trading platform loads slowly or experiences errors, it will translate into loss of business, and losses can be extremely high, and the customer might end up switching to another competitor.
In this context comes the Application Performance Management¬†(APM).">
<meta name=author content>
<link rel=canonical href=https://blog.nebrass.fr/playing-with-azure-monitor-services-and-spring-boot/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.9aeab43847eb11aca320bfadedfe191ed6516dd768bf1314b534c4992aac901a.css integrity="sha256-muq0OEfrEayjIL+t7f4ZHtZRbddovxMUtTTEmSqskBo=" rel="preload stylesheet" as=style>
<script src=/js/prism.min.js></script>
<link rel=stylesheet href=/css/prism.min.css>
<link rel=icon href=https://blog.nebrass.fr/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://blog.nebrass.fr/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://blog.nebrass.fr/favicon-32x32.png>
<link rel=apple-touch-icon href=https://blog.nebrass.fr/apple-touch-icon.png>
<link rel=mask-icon href=https://blog.nebrass.fr/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<style amp-custom>.main,.footer,.nav{max-width:calc(var(--main-width) + var(--gap) * 15)}</style>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-111781986-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="Playing with Azure Monitor services and Spring Boot">
<meta property="og:description" content="In enterprise application, performance is major requirement of success. Especially for applications where slowness will have a direct detrimental impact on business productivity, profits and even the brand itself, like trading platforms and e-commerces.
If a trading platform loads slowly or experiences errors, it will translate into loss of business, and losses can be extremely high, and the customer might end up switching to another competitor.
In this context comes the Application Performance Management¬†(APM).">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.nebrass.fr/playing-with-azure-monitor-services-and-spring-boot/">
<meta property="og:image" content="https://blog.nebrass.fr/images/playing-azure-monitor-services.webp"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2019-09-23T00:00:00+00:00">
<meta property="article:modified_time" content="2019-09-23T00:00:00+00:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://blog.nebrass.fr/images/playing-azure-monitor-services.webp">
<meta name=twitter:title content="Playing with Azure Monitor services and Spring Boot">
<meta name=twitter:description content="In enterprise application, performance is major requirement of success. Especially for applications where slowness will have a direct detrimental impact on business productivity, profits and even the brand itself, like trading platforms and e-commerces.
If a trading platform loads slowly or experiences errors, it will translate into loss of business, and losses can be extremely high, and the customer might end up switching to another competitor.
In this context comes the Application Performance Management¬†(APM).">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://blog.nebrass.fr/posts/"},{"@type":"ListItem","position":3,"name":"Playing with Azure Monitor services and Spring Boot","item":"https://blog.nebrass.fr/playing-with-azure-monitor-services-and-spring-boot/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Playing with Azure Monitor services and Spring Boot","name":"Playing with Azure Monitor services and Spring Boot","description":"In enterprise application, performance is major requirement of success. Especially for applications where slowness will have a direct detrimental impact on business productivity, profits and even the brand itself, like trading platforms and e-commerces.\nIf a trading platform loads slowly or experiences errors, it will translate into loss of business, and losses can be extremely high, and the customer might end up switching to another competitor.\nIn this context comes the Application Performance Management¬†(APM).","keywords":[],"articleBody":"In enterprise application, performance is major requirement of success. Especially for applications where slowness will have a direct detrimental impact on business productivity, profits and even the brand itself, like trading platforms and e-commerces.\nIf a trading platform loads slowly or experiences errors, it will translate into loss of business, and losses can be extremely high, and the customer might end up switching to another competitor.\nIn this context comes the Application Performance Management¬†(APM). APM is the monitoring and management of performance and availability of applications. APM strives to detect and diagnose complex application performance problems to maintain an expected¬†level of service.\nOn this article, I am going to explain how to use¬†Azure Monitor which is the Microsoft Azure‚Äôs product that helps you maximize performance and availability of your applications and proactively identify problems in seconds.\nWhat‚Äôs Azure Monitor ? Azure Monitor maximizes the availability and performance of your applications and services by delivering a comprehensive solution for collecting, analyzing, and acting on telemetry from your cloud and on-premises environments. It helps you understand how your applications are performing and proactively identifies issues affecting them and the resources they depend on.\nHow Azure Monitor works Azure Monitor collects monitoring telemetry from a variety of on-premises and Azure sources. Management tools, such as those in Azure Security Center and Azure Automation, also push log data to Azure Monitor. The service aggregates and stores this telemetry in a log data store that‚Äôs optimized for cost and performance. Analyze data, set up alerts, get end-to-end views of your applications, and use machine learning‚Äìdriven insights to quickly identify and resolve problems.\nIn this tutorial we will be covering :\n Azure Application Insights: monitors your running web app. It tells you about failures and performance issues, and helps you analyze how customers use your app. Azure Monitor Log: set of useful tools for performing complex analysis across Log Data from a variety of sources.  PREPARING THE SAMPLE PROJECT The sample project for this tutorial is generated using the Spring Initializr and add these Dependencies :\n Web Actuator DevTools  You can download the sample project that I generated from¬†here.\nTo this project, we need to add this Java class:\n1 2 3 4 5 6 7 8  @RestController @RequestMapping(\"/api/hello\") public class HelloWorldRestController { @GetMapping public String sayHello() { return \"Hello the time is \" + System.nanoTime(); } }   Now, we will need to play with Azure Application Insights üòÅüòÅ\nEnabling the Azure Application Insights We need to start by creating a new Resource Group:\n name: azure-monitor-rg region: (Europe) France Central  Next, go to Monitor and click on the Applications in the Insights section:\n On this screen, click on Create Application Insights apps:\n name: app-insights-demo region: (Europe) France Central  The deployment will start:\n When finished click on Go to resource:\n¬†From this screen we need to grab the Instrumentation Key. This will be used from our application to communicate with Azure.\nNext, in our Spring Boot project, we need to add the Application Insights Starter to the pom.xml:\n1 2 3 4 5   com.microsoft.azure applicationinsights-spring-boot-starter 2.5.0    Next, we need to add some properties to the application.properties:\n1 2 3 4  # Springboot application logical name spring.application.name=app-insights-demo # Application Insights instrumentation key azure.application-insights.instrumentation-key=de7850bX-XXXX-XXXX-XXXX-XXXXXXXXXXXX   Now, we have two steps of implementing the Application Insights support:\n Enabling the metrics emission Enabling the Logs broadcasting  1. Enabling the metrics emission In our REST Controller, we will use a TelemetryClient instance to send telemetry to Azure Application Insights. Our controller will look like:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  @RestController @RequestMapping(\"/api/hello\") public class HelloWorldRestController { @Autowired TelemetryClient telemetryClient; private static final Logger LOGGER = LoggerFactory.getLogger(HelloWorldRestController.class); @GetMapping public String sayHello() { //track a custom event  this.telemetryClient.trackEvent(\"Sending a custom event...\"); //trace a custom trace  this.telemetryClient.trackTrace(\"Sending a custom trace....\"); //track a custom metric  this.telemetryClient.trackMetric(\"custom metric\", 1.0); //track a custom dependency  this.telemetryClient .trackDependency(\"SQL\", \"Insert\", new Duration(0, 0, 1, 1, 1), true); String message = \"Hello the time is \" + System.nanoTime(); LOGGER.info(message); return message; } }   Cool ! ü•≥¬†But is these telemetries ? what is an Event ? a Trace ? a Metric ? a Dependency ?? ü§î\n Event telemetry: represents an event that occurred in your application. Typically it is a user interaction such as button click or order checkout. It can also be an application life cycle event like initialization or configuration update.Semantically, events may or may not be correlated to requests. However, if used properly, event telemetry is more important than requests or traces. Events represent business telemetry and should be a subject to separate, less aggressive¬†sampling. Trace telemetry: represents a textual styled trace. Log file entries are translated into instances of this type. The trace does not have measurements as an extensibility. Metric telemetry: There are two types of metric telemetry : single measurement and pre-aggregated metric.  Single measurement is just a name and value. Pre-aggregated metric specifies minimum and maximum value of the metric in the aggregation interval and standard deviation of it. It assumes that aggregation period was one minute.   Dependency Telemetry: represents an interaction of the monitored component with a remote component such as SQL (like what we simulated in our example) or an HTTP endpoint. Request Telemetry:¬†represents the logical sequence of execution triggered by an external request to your application. Every request execution is identified by unique¬†ID¬†and¬†url¬†containing all the execution parameters. You can group requests by logical¬†name¬†and define the¬†source¬†of this request. Code execution can result in¬†success¬†or¬†fail¬†and has a certain¬†duration. Both success and failure executions may be grouped further by¬†resultCode.  Just start the application and just call the REST Controller on http://localhost:8080/api/hello some times to generate some telemetries:\n Here we go ! After some minutes, we get the results in the same Monitor  Application Insights  Search menu üòÅ\n2. Enabling the Logs broadcasting Spring Boot uses logback as the default logger. Azure does provide its own log-appender which has to be configured in our Spring Boot application. First you have to add the AppInsights log-appender as a new dependency:\n1 2 3 4 5   com.microsoft.azure applicationinsights-logging-logback 2.5.0    To configure the newly added log-appender you have to add a new configuration File¬†/src/main/resources/logback-spring.xml to your app:\n1 2 3 4 5 6 7 8 9 10 11     resource=\"org/springframework/boot/logging/logback/base.xml\"/  name=\"com.targa.dev.labs.appinsights\" level=\"DEBUG\"/  name=\"aiAppender\" class=\"com.microsoft.applicationinsights.logback.ApplicationInsightsAppender\"   level=\"info\"  ref=\"aiAppender\" /     Now, all your logging will be broadcasted automatically to our Application Insights instance.\nIf you go back to the Azure portal, next Azure Monitor, next to Application Insights, click on your application :\n Now, click on Search to be forwarded to the listing of the received logs - if there are no logs; click on the Refresh button:\n Click on a message to see the transaction details:\n Cool ! Now we are sending logs and telemetries to our Azure Monitor ecosystem.\nLog Analytics Log Analytics is a web tool used to write and execute Azure Monitor log queries. Open it by selecting¬†Logs¬†in the Azure Monitor menu:\n Now, you can type an Azure Logs Query in the editor.\nFor example, a query that lists the last 50 requests: requests | limit 50:\n Now that we get the records, we can filter the results, sort them, check the record details to be able to be more productive by understanding what‚Äôs happening in our application.\n We can even generate some graphs and charts to understand in deep how things are turning into the application. Even if we have some frequently used queries, we can store them. We can go far and export the records to PowerBI or Excel to play more with the data if you like that ü§ì\nLive metrics stream With the Live Metrics Stream service, we can watch metrics and performance counters in real time, without any disturbance to the service. We can easily inspect the stack traces from sample failed requests and exceptions. It provides a powerful and non-invasive diagnostic tool for our live web applications.\n I‚Äôm sure that you are surprised by the actual values üòÇ It‚Äôs quite because I didn‚Äôt generated so much noise üò¥\nWith Live Metrics Stream, we can:\n Validate a fix while it is released, by watching performance and failure counts. Watch the effect of test loads, and diagnose issues live. Focus on particular test sessions or filter out known issues, by selecting and filtering the metrics you want to watch. Get exception traces as they happen. Experiment with filters to find the most relevant KPIs. Monitor any Windows performance counter live. Easily identify a server that is having issues, and filter all the KPI/live feed to just that server.  Performance Dashboard Application Insights collects performance details for the different operations in our application. By identifying those operations with the longest duration, we can diagnose potential problems or best target your ongoing development to improve the overall performance of the application.\n Select¬†Application Insights. To open the¬†Performance¬†panel either select¬†Performance¬†under the¬†Investigate menu OR click the Server Response Time¬†graph.   The¬†Performance panel shows the count and average duration of each operation for the application. You can use this information to identify those operations that most impact users.¬†In our example, the GET /robots.txt is a likely candidate to investigate because of its relatively high duration although it‚Äôs called only once (COUNT=1).\n You can do more, just take a look on the documentation ü§ì\nApplication Health with Azure Application Insights Azure Application Insights allows us to monitor our application and send us alerts when it is either unavailable, experiencing failures, or suffering from performance issues.\nTo continuously check the availability of our application, we need to create an availability test, used¬†allow us to automatically test our application from various locations around the world.\nTo create an Availability Test, select Availability¬†under the¬†Investigate¬†menu and then click¬†Create test:\n Next, we will fill the Test basic information:\n The Test basic informations:\n Name: Health Check Test Type: URL ping test URL: The actuator health check URI on one of my hosted application: http://app-insights-demo.azurewebsites.net/actuator/health We enabled the retries in case of a test fails - with a frequency of 5 minutes The tests will be run from 16 different locations The criteria of success of the test will be an HTTP 200 response within a 120 seconds. Alerts are enabled and can be customized from an other menu üòÅ  Now our test is created, we can check it and do some modifications like alert conditions or the alert :\n We can see that, by default, the alert will be dispatched only if the test failed from 8 locations or more:\n In the Actions, we need to select an Action Group in matter to define the group that will receive the alert.\nNext steps In this post, we did a small tour in the Azure Monitor services and I hope you could get an idea about how this great product works ? and what you can do with ?\nI used before the ELK/EFK and Dynatrace, and I found that they are so good as a couple to monitor and track what‚Äôs going on on applications and microservices. In comparaison, I really appreciate the Azure Monitor services and I found them complete and exhaustive and all the features you need are in one place. Give it a try, I will be interested by your feedback üòä\n","wordCount":"1933","inLanguage":"en","image":"https://blog.nebrass.fr/images/playing-azure-monitor-services.webp","datePublished":"2019-09-23T00:00:00Z","dateModified":"2019-09-23T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.nebrass.fr/playing-with-azure-monitor-services-and-spring-boot/"},"publisher":{"@type":"Organization","name":"Nebrass Homepage","logo":{"@type":"ImageObject","url":"https://blog.nebrass.fr/favicon.ico"}}}</script>
</head>
<body id=top>
<script>window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://blog.nebrass.fr accesskey=h title="Nebrass Homepage (Alt + H)">Nebrass Homepage</a>
<span class=logo-switches>
</span>
</div>
<ul id=menu>
<li>
<a href=https://blog.nebrass.fr/ title=Posts>
<span>Posts</span>
</a>
</li>
<li>
<a href=https://blog.nebrass.fr/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
<li>
<a href=https://blog.nebrass.fr/categories/ title=Categories>
<span>Categories</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Playing with Azure Monitor services and Spring Boot
</h1>
<div class=post-meta><span title="2019-09-23 00:00:00 +0000 UTC">September 23, 2019</span>&nbsp;¬∑&nbsp;10 min
</div>
</header>
<figure class=entry-cover><img loading=lazy src=https://blog.nebrass.fr/images/playing-azure-monitor-services.webp alt>
</figure>
<div class=post-content><p>In enterprise application, performance is major requirement of success. Especially for applications where slowness will have a direct detrimental impact on business productivity, profits and even the brand itself, like trading platforms and e-commerces.</p>
<p>If a trading platform loads slowly or experiences errors, it will translate into loss of business, and losses can be extremely high, and the customer might end up switching to another competitor.</p>
<p>In this context comes the <strong>Application Performance Management</strong>¬†(<strong>APM</strong>). <strong>APM</strong> is the monitoring and management of performance and availability of applications. APM strives to detect and diagnose complex application performance problems to maintain an expected¬†level of service.</p>
<p>On this article, I am going to explain how to use¬†<strong>Azure Monitor</strong> which is the Microsoft Azure&rsquo;s product that helps you maximize performance and availability of your applications and proactively identify problems in seconds.</p>
<h2 id=whats-azure-monitor->What&rsquo;s Azure Monitor ?<a hidden class=anchor aria-hidden=true href=#whats-azure-monitor->#</a></h2>
<p>Azure Monitor maximizes the availability and performance of your applications and services by delivering a comprehensive solution for collecting, analyzing, and acting on telemetry from your cloud and on-premises environments. It helps you understand how your applications are performing and proactively identifies issues affecting them and the resources they depend on.</p>
<h2 id=how-azure-monitor-works>How Azure Monitor works<a hidden class=anchor aria-hidden=true href=#how-azure-monitor-works>#</a></h2>
<p>Azure Monitor collects monitoring telemetry from a variety of on-premises and Azure sources. Management tools, such as those in Azure Security Center and Azure Automation, also push log data to Azure Monitor. The service aggregates and stores this telemetry in a log data store that‚Äôs optimized for cost and performance. Analyze data, set up alerts, get end-to-end views of your applications, and use machine learning‚Äìdriven insights to quickly identify and resolve problems.</p>
<p>In this tutorial we will be covering :</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/azure/azure-monitor/app/app-insights-overview/?WT.mc_id=devto-blog-judubois">Azure Application Insights</a>: monitors your running web app. It tells you about failures and performance issues, and helps you analyze how customers use your app.</li>
<li><a href=https://docs.microsoft.com/en-us/azure/azure-monitor/log-query/log-query-overview>Azure Monitor Log</a>: set of useful tools for performing complex analysis across Log Data from a variety of sources.</li>
</ul>
<h2 id=preparing-the-sample-project>PREPARING THE SAMPLE PROJECT<a hidden class=anchor aria-hidden=true href=#preparing-the-sample-project>#</a></h2>
<p>The sample project for this tutorial is generated using the <a href=https://start.spring.io/>Spring Initializr</a> and add these Dependencies :</p>
<ul>
<li>Web</li>
<li>Actuator</li>
<li>DevTools</li>
</ul>
<p>You can download the sample project that I generated from¬†here.</p>
<p>To this project, we need to add this Java class:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=nd>@RestController</span> 
<span class=nd>@RequestMapping</span><span class=o>(</span><span class=s>&#34;/api/hello&#34;</span><span class=o>)</span>
<span class=kd>public</span> <span class=kd>class</span> <span class=nc>HelloWorldRestController</span> <span class=o>{</span> 
    <span class=nd>@GetMapping</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=nf>sayHello</span><span class=o>()</span> <span class=o>{</span> 
        <span class=k>return</span> <span class=s>&#34;Hello the time is &#34;</span> <span class=o>+</span> <span class=n>System</span><span class=o>.</span><span class=na>nanoTime</span><span class=o>();</span> 
    <span class=o>}</span> 
<span class=o>}</span>
</code></pre></td></tr></table>
</div>
</div><p>Now, we will need to play with Azure Application Insights üòÅüòÅ</p>
<h2 id=enabling-the-azure-application-insights>Enabling the Azure Application Insights<a hidden class=anchor aria-hidden=true href=#enabling-the-azure-application-insights>#</a></h2>
<p>We need to start by creating a new <strong>Resource Group</strong>:</p>
<ul>
<li>name: <em>azure-monitor-rg</em></li>
<li>region: <em>(Europe) France Central</em></li>
</ul>
<p>Next, go to <em><strong>Monitor</strong></em> and click on the <strong><em>Applications</em></strong> in the <em><strong>Insights</strong></em> section:</p>
<div align=center>
<p><img loading=lazy src=../images/monitor-apps-insights-welcome.webp alt>
</p>
</div>
<p>On this screen, click on <em><strong>Create Application Insights apps</strong></em>:</p>
<ul>
<li>name: <em>app-insights-demo</em></li>
<li>region: <em>(Europe) France Central</em></li>
</ul>
<p>The <strong><em>deployment</em></strong> will start:</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insights-deployment.webp alt>
</p>
</div>
<p>When finished click on <strong><em>Go to resource</em></strong>:</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insights-dashboard.webp alt>
</p>
</div>¬†
<p>From this screen we need to grab the <em><strong>Instrumentation Key</strong></em>. This will be used from our application to communicate with Azure.</p>
<p>Next, in our Spring Boot project, we need to add the <em>Application Insights Starter</em> to the <code>pom.xml</code>:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=nt>&lt;dependency&gt;</span>
    <span class=nt>&lt;groupId&gt;</span>com.microsoft.azure<span class=nt>&lt;/groupId&gt;</span>
    <span class=nt>&lt;artifactId&gt;</span>applicationinsights-spring-boot-starter<span class=nt>&lt;/artifactId&gt;</span>
    <span class=nt>&lt;version&gt;</span>2.5.0<span class=nt>&lt;/version&gt;</span>
<span class=nt>&lt;/dependency&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>Next, we need to add some <em>properties</em> to the <code>application.properties</code>:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback># Springboot application logical name
spring.application.name=app-insights-demo
# Application Insights instrumentation key
azure.application-insights.instrumentation-key=de7850bX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
</code></pre></td></tr></table>
</div>
</div><p>Now, we have two steps of implementing the <em><strong>Application Insights</strong></em> support:</p>
<ol>
<li>Enabling the metrics emission</li>
<li>Enabling the Logs broadcasting</li>
</ol>
<h3 id=1-enabling-the-metrics-emission>1. Enabling the metrics emission<a hidden class=anchor aria-hidden=true href=#1-enabling-the-metrics-emission>#</a></h3>
<p>In our REST Controller, we will use a <a href=https://static.javadoc.io/com.microsoft.azure/applicationinsights-core/2.5.0/com/microsoft/applicationinsights/TelemetryClient.html><em><strong>TelemetryClient</strong></em></a> instance to send telemetry to Azure Application Insights. Our controller will look like:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=nd>@RestController</span>
<span class=nd>@RequestMapping</span><span class=o>(</span><span class=s>&#34;/api/hello&#34;</span><span class=o>)</span>
<span class=kd>public</span> <span class=kd>class</span> <span class=nc>HelloWorldRestController</span> <span class=o>{</span>

    <span class=nd>@Autowired</span>
    <span class=n>TelemetryClient</span> <span class=n>telemetryClient</span><span class=o>;</span>

    <span class=kd>private</span> <span class=kd>static</span> <span class=kd>final</span> <span class=n>Logger</span> <span class=n>LOGGER</span> <span class=o>=</span>
            <span class=n>LoggerFactory</span><span class=o>.</span><span class=na>getLogger</span><span class=o>(</span><span class=n>HelloWorldRestController</span><span class=o>.</span><span class=na>class</span><span class=o>);</span>

    <span class=nd>@GetMapping</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=nf>sayHello</span><span class=o>()</span> <span class=o>{</span>
        <span class=c1>//track a custom event
</span><span class=c1></span>        <span class=k>this</span><span class=o>.</span><span class=na>telemetryClient</span><span class=o>.</span><span class=na>trackEvent</span><span class=o>(</span><span class=s>&#34;Sending a custom event...&#34;</span><span class=o>);</span>

        <span class=c1>//trace a custom trace
</span><span class=c1></span>        <span class=k>this</span><span class=o>.</span><span class=na>telemetryClient</span><span class=o>.</span><span class=na>trackTrace</span><span class=o>(</span><span class=s>&#34;Sending a custom trace....&#34;</span><span class=o>);</span>

        <span class=c1>//track a custom metric
</span><span class=c1></span>        <span class=k>this</span><span class=o>.</span><span class=na>telemetryClient</span><span class=o>.</span><span class=na>trackMetric</span><span class=o>(</span><span class=s>&#34;custom metric&#34;</span><span class=o>,</span> <span class=n>1</span><span class=o>.</span><span class=na>0</span><span class=o>);</span>

        <span class=c1>//track a custom dependency
</span><span class=c1></span>        <span class=k>this</span><span class=o>.</span><span class=na>telemetryClient</span>
            <span class=o>.</span><span class=na>trackDependency</span><span class=o>(</span><span class=s>&#34;SQL&#34;</span><span class=o>,</span> <span class=s>&#34;Insert&#34;</span><span class=o>,</span> <span class=k>new</span> <span class=n>Duration</span><span class=o>(</span><span class=n>0</span><span class=o>,</span> <span class=n>0</span><span class=o>,</span> <span class=n>1</span><span class=o>,</span> <span class=n>1</span><span class=o>,</span> <span class=n>1</span><span class=o>),</span> <span class=kc>true</span><span class=o>);</span>

        <span class=n>String</span> <span class=n>message</span> <span class=o>=</span> <span class=s>&#34;Hello the time is &#34;</span> <span class=o>+</span> <span class=n>System</span><span class=o>.</span><span class=na>nanoTime</span><span class=o>();</span>
        <span class=n>LOGGER</span><span class=o>.</span><span class=na>info</span><span class=o>(</span><span class=n>message</span><span class=o>);</span>
        <span class=k>return</span> <span class=n>message</span><span class=o>;</span>
    <span class=o>}</span>
<span class=o>}</span>
</code></pre></td></tr></table>
</div>
</div><p>Cool ! ü•≥¬† But is these telemetries ? what is an Event ? a Trace ? a Metric ? a Dependency ?? ü§î</p>
<ul>
<li><strong>Event telemetry</strong>: represents an event that occurred in your application. Typically it is a user interaction such as button click or order checkout. It can also be an application life cycle event like initialization or configuration update.Semantically, events may or may not be correlated to requests. However, if used properly, event telemetry is more important than requests or traces. Events represent business telemetry and should be a subject to separate, less aggressive¬†sampling.</li>
<li><strong>Trace telemetry</strong>: represents a textual styled trace. Log file entries are translated into instances of this type. The trace does not have measurements as an extensibility.</li>
<li><strong>Metric telemetry</strong>: There are two types of metric telemetry : <em>single measurement</em> and <em>pre-aggregated metric</em>.
<ul>
<li><em>Single measurement</em> is just a name and value.</li>
<li><em>Pre-aggregated metric</em> specifies minimum and maximum value of the metric in the aggregation interval and standard deviation of it. It assumes that aggregation period was one minute.</li>
</ul>
</li>
<li><strong>Dependency Telemetry</strong>: ¬†represents an interaction of the monitored component with a remote component such as <em>SQL</em> (like what we simulated in our example) or an <em>HTTP endpoint</em>.</li>
<li><strong>Request Telemetry</strong>:¬†represents the logical sequence of execution triggered by an external request to your application. Every request execution is identified by unique¬†<code>ID</code>¬†and¬†<code>url</code>¬†containing all the execution parameters. You can group requests by logical¬†<code>name</code>¬†and define the¬†<code>source</code>¬†of this request. Code execution can result in¬†<code>success</code>¬†or¬†<code>fail</code>¬†and has a certain¬†<code>duration</code>. Both success and failure executions may be grouped further by¬†<code>resultCode</code>.</li>
</ul>
<p>Just start the application and just call the <em><strong>REST Controller</strong></em> on <a href=http://localhost:8080/api/hello>http://localhost:8080/api/hello</a> some times to generate some <em>telemetries</em>:</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insigh-logs-metrics.webp alt>
</p>
</div>
<p>Here we go ! After some minutes, we get the results in the same <em><strong>Monitor > Application Insights > Search</strong></em> menu üòÅ</p>
<h3 id=2-enabling-the-logs-broadcasting>2. Enabling the Logs broadcasting<a hidden class=anchor aria-hidden=true href=#2-enabling-the-logs-broadcasting>#</a></h3>
<p><em>Spring Boot</em> uses <a href=https://logback.qos.ch/>logback</a> as the default logger. <em>Azure</em> does provide its own log-appender which has to be configured in our <em>Spring Boot</em> application. First you have to add the AppInsights log-appender as a new dependency:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=nt>&lt;dependency&gt;</span>
    <span class=nt>&lt;groupId&gt;</span>com.microsoft.azure<span class=nt>&lt;/groupId&gt;</span>
    <span class=nt>&lt;artifactId&gt;</span>applicationinsights-logging-logback<span class=nt>&lt;/artifactId&gt;</span>
    <span class=nt>&lt;version&gt;</span>2.5.0<span class=nt>&lt;/version&gt;</span>
<span class=nt>&lt;/dependency&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>To configure the newly added <strong><em>log-appender</em></strong> you have to add a new configuration File¬†<code>/src/main/resources/logback-spring.xml</code> to your app:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span class=nt>&lt;configuration&gt;</span>
    <span class=nt>&lt;include</span> <span class=na>resource=</span><span class=s>&#34;org/springframework/boot/logging/logback/base.xml&#34;</span><span class=nt>/&gt;</span>
    <span class=nt>&lt;logger</span> <span class=na>name=</span><span class=s>&#34;com.targa.dev.labs.appinsights&#34;</span> <span class=na>level=</span><span class=s>&#34;DEBUG&#34;</span><span class=nt>/&gt;</span>
    <span class=nt>&lt;appender</span> <span class=na>name=</span><span class=s>&#34;aiAppender&#34;</span>
              <span class=na>class=</span><span class=s>&#34;com.microsoft.applicationinsights.logback.ApplicationInsightsAppender&#34;</span><span class=nt>&gt;</span>
    <span class=nt>&lt;/appender&gt;</span>
    <span class=nt>&lt;root</span> <span class=na>level=</span><span class=s>&#34;info&#34;</span><span class=nt>&gt;</span>
        <span class=nt>&lt;appender-ref</span> <span class=na>ref=</span><span class=s>&#34;aiAppender&#34;</span> <span class=nt>/&gt;</span>
    <span class=nt>&lt;/root&gt;</span>
<span class=nt>&lt;/configuration&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>Now, all your logging will be broadcasted automatically to our <em><strong>Application Insights</strong></em> instance.</p>
<p>If you go back to the <a href=http://portal.azure.com>Azure portal</a>, next Azure Monitor, next to <strong><em>Application Insights</em></strong>, click on your application :</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insights-dashboard-values.webp alt>
</p>
</div>
<p>Now, click on <em><strong>Search</strong></em> to be forwarded to the listing of the <em>received logs</em> - if there are no <em>logs</em>; click on the <em><strong>Refresh</strong></em> button:</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insight-logs-search.webp alt>
</p>
</div>
<p>Click on a message to see the <em><strong>transaction details</strong></em>:</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insight-logs-details.webp alt>
</p>
</div>
<p>Cool ! Now we are sending logs and telemetries to our Azure Monitor ecosystem.</p>
<h2 id=log-analytics>Log Analytics<a hidden class=anchor aria-hidden=true href=#log-analytics>#</a></h2>
<p>Log Analytics is a web tool used to write and execute Azure Monitor log queries. Open it by selecting¬†<strong>Logs</strong>¬†in the <strong>Azure Monitor</strong> menu:</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insights-logs-dashboard.webp alt>
</p>
</div>
<p>Now, you can type an Azure Logs Query in the editor.</p>
<p>For example, a query that lists the last 50 requests: <code>requests | limit 50</code>:</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insights-logs-query-results.webp alt>
</p>
</div>
<p>Now that we get the records, we can filter the results, sort them, check the record details to be able to be more productive by understanding what&rsquo;s happening in our application.</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insights-logs-query-result-detail.webp alt>
</p>
</div>
<p>We can even generate some graphs and charts to understand in deep how things are turning into the application. Even if we have some frequently used queries, we can store them. We can go far and export the records to <em>PowerBI</em> or <em>Excel</em> to play more with the data if you like that ü§ì</p>
<h2 id=live-metrics-stream>Live metrics stream<a hidden class=anchor aria-hidden=true href=#live-metrics-stream>#</a></h2>
<p>With the <em><strong>Live Metrics Stream</strong></em> service, we can watch metrics and performance counters in real time, without any disturbance to the service. We can easily inspect the stack traces from sample failed requests and exceptions. It provides a powerful and non-invasive diagnostic tool for our live web applications.</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insight-live-metrics-stream.webp alt>
</p>
</div>
<p>I&rsquo;m sure that you are surprised by the actual values üòÇ It&rsquo;s quite because I didn&rsquo;t generated so much noise üò¥</p>
<p>With <em><strong>Live Metrics Stream</strong></em>, we can:</p>
<ul>
<li>Validate a fix while it is released, by watching performance and failure counts.</li>
<li>Watch the effect of test loads, and diagnose issues live.</li>
<li>Focus on particular test sessions or filter out known issues, by selecting and filtering the metrics you want to watch.</li>
<li>Get exception traces as they happen.</li>
<li>Experiment with filters to find the most relevant KPIs.</li>
<li>Monitor any Windows performance counter live.</li>
<li>Easily identify a server that is having issues, and filter all the KPI/live feed to just that server.</li>
</ul>
<h2 id=performance-dashboard>Performance Dashboard<a hidden class=anchor aria-hidden=true href=#performance-dashboard>#</a></h2>
<p>Application Insights collects performance details for the different operations in our application. By identifying those operations with the longest duration, we can diagnose potential problems or best target your ongoing development to improve the overall performance of the application.</p>
<ol>
<li>Select¬†<strong>Application Insights</strong>.</li>
<li>To open the¬†<strong>Performance</strong>¬†panel either select¬†<strong>Performance</strong>¬†under the¬†<strong>Investigate</strong> menu OR click the <strong>Server Response Time</strong>¬†graph.</li>
</ol>
<div align=center>
<p><img loading=lazy src=../images/apps-insights-dashboard-performance.webp alt>
</p>
</div>
<p>The¬†<strong>Performance</strong> panel shows the count and average duration of each operation for the application. You can use this information to identify those operations that most impact users.¬†In our example, the <strong>GET /robots.txt</strong> is a likely candidate to investigate because of its relatively high duration although it&rsquo;s called only once (COUNT=1).</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insight-performance.webp alt>
</p>
</div>
<p>You can do more, just take a look on the documentation ü§ì</p>
<h2 id=application-health-with-azure-application-insights>Application Health with Azure Application Insights<a hidden class=anchor aria-hidden=true href=#application-health-with-azure-application-insights>#</a></h2>
<p>Azure Application Insights allows us to monitor our application and send us alerts when it is either unavailable, experiencing failures, or suffering from performance issues.</p>
<p>To continuously check the availability of our application, we need to create an availability test, used¬†allow us to automatically test our application from various locations around the world.</p>
<p>To create an Availability Test, select <strong>Availability</strong>¬†under the¬†<strong>Investigate</strong>¬†menu and then click¬†<strong>Create test</strong>:</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insights-availability.webp alt>
</p>
</div>
<p>Next, we will fill the Test basic information:</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insights-availability-test-form.webp alt>
</p>
</div>
<p>The Test basic informations:</p>
<ul>
<li><em>Name:</em> <strong>Health Check</strong></li>
<li><em>Test Type:</em> <strong>URL ping test</strong></li>
<li><em>URL:</em> The <strong>actuator health check URI</strong> on one of my hosted application: <a href=http://app-insights-demo.azurewebsites.net/actuator/health>http://app-insights-demo.azurewebsites.net/actuator/health</a></li>
<li>We <strong>enabled the retries</strong> in case of a test fails - with <strong>a frequency of 5 minutes</strong></li>
<li>The tests will be run from <strong>16 different locations</strong></li>
<li>The criteria of success of the test will be an <strong>HTTP 200 response within a 120 seconds</strong>.</li>
<li><strong>Alerts are enabled</strong> and can be customized from an other menu üòÅ</li>
</ul>
<p>Now our test is created, we can check it and do some modifications like alert conditions or the alert :</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insights-availability-test-edit.webp alt>
</p>
</div>
<p>We can see that, by default, the alert will be dispatched only if the test failed from 8 locations or more:</p>
<div align=center>
<p><img loading=lazy src=../images/apps-insights-availability-test-details.webp alt>
</p>
</div>
<p>In the Actions, we need to select an Action Group in matter to define the group that will receive the alert.</p>
<h2 id=next-steps>Next steps<a hidden class=anchor aria-hidden=true href=#next-steps>#</a></h2>
<p>In this post, we did a small tour in the Azure Monitor services and I hope you could get an idea about how this great product works ? and what you can do with ?</p>
<p>I used before the <strong>ELK/EFK</strong> and <strong>Dynatrace</strong>, and I found that they are so good as a couple to monitor and track what&rsquo;s going on on applications and microservices. In comparaison, I really appreciate the Azure Monitor services and I found them complete and exhaustive and all the features you need are in one place. Give it a try, I will be interested by your feedback üòä</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
</ul>
<div class=share-buttons>
<a target=_blank rel="noopener noreferrer" aria-label="share Playing with Azure Monitor services and Spring Boot on twitter" href="https://twitter.com/intent/tweet/?text=Playing%20with%20Azure%20Monitor%20services%20and%20Spring%20Boot&url=https%3a%2f%2fblog.nebrass.fr%2fplaying-with-azure-monitor-services-and-spring-boot%2f&hashtags="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Playing with Azure Monitor services and Spring Boot on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fblog.nebrass.fr%2fplaying-with-azure-monitor-services-and-spring-boot%2f&title=Playing%20with%20Azure%20Monitor%20services%20and%20Spring%20Boot&summary=Playing%20with%20Azure%20Monitor%20services%20and%20Spring%20Boot&source=https%3a%2f%2fblog.nebrass.fr%2fplaying-with-azure-monitor-services-and-spring-boot%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Playing with Azure Monitor services and Spring Boot on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.nebrass.fr%2fplaying-with-azure-monitor-services-and-spring-boot%2f&title=Playing%20with%20Azure%20Monitor%20services%20and%20Spring%20Boot"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Playing with Azure Monitor services and Spring Boot on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.nebrass.fr%2fplaying-with-azure-monitor-services-and-spring-boot%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Playing with Azure Monitor services and Spring Boot on whatsapp" href="https://api.whatsapp.com/send?text=Playing%20with%20Azure%20Monitor%20services%20and%20Spring%20Boot%20-%20https%3a%2f%2fblog.nebrass.fr%2fplaying-with-azure-monitor-services-and-spring-boot%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Playing with Azure Monitor services and Spring Boot on telegram" href="https://telegram.me/share/url?text=Playing%20with%20Azure%20Monitor%20services%20and%20Spring%20Boot&url=https%3a%2f%2fblog.nebrass.fr%2fplaying-with-azure-monitor-services-and-spring-boot%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://blog.nebrass.fr>Nebrass Homepage</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
</body>
</html>