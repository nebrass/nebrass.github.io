<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Playing with OpenShift 4 locally | Nebrass Homepage</title>
<meta name=keywords content>
<meta name=description content="January 2018, Red Hat acquired CoreOS for 250 million dollars ğŸ¤©. CoreOS was one of the leading companies of Linux & Containers market with their wide offer of products:
 CoreOS Tectonic: container application platform based on Kubernetes. CoreOS Container Linux: lightweight Linux distribution designed to run containerized applications. CoreOS Operators Framework: an open source toolkit designed to manage Kubernetes native applications. CoreOS Quay: a container registry for building, storing, and distributing your private containers.">
<meta name=author content>
<link rel=canonical href=https://blog.nebrass.fr/playing-with-openshift-4-locally/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.9aeab43847eb11aca320bfadedfe191ed6516dd768bf1314b534c4992aac901a.css integrity="sha256-muq0OEfrEayjIL+t7f4ZHtZRbddovxMUtTTEmSqskBo=" rel="preload stylesheet" as=style>
<script src=/js/prism.min.js></script>
<link rel=stylesheet href=/css/prism.min.css>
<link rel=icon href=https://blog.nebrass.fr/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://blog.nebrass.fr/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://blog.nebrass.fr/favicon-32x32.png>
<link rel=apple-touch-icon href=https://blog.nebrass.fr/apple-touch-icon.png>
<link rel=mask-icon href=https://blog.nebrass.fr/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<style amp-custom>.main,.footer,.nav{max-width:calc(var(--main-width) + var(--gap) * 15)}</style>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-111781986-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="Playing with OpenShift 4 locally">
<meta property="og:description" content="January 2018, Red Hat acquired CoreOS for 250 million dollars ğŸ¤©. CoreOS was one of the leading companies of Linux & Containers market with their wide offer of products:
 CoreOS Tectonic: container application platform based on Kubernetes. CoreOS Container Linux: lightweight Linux distribution designed to run containerized applications. CoreOS Operators Framework: an open source toolkit designed to manage Kubernetes native applications. CoreOS Quay: a container registry for building, storing, and distributing your private containers.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.nebrass.fr/playing-with-openshift-4-locally/">
<meta property="og:image" content="https://blog.nebrass.fr/images/playing-ocp-4-cover.webp"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2019-09-20T00:00:00+00:00">
<meta property="article:modified_time" content="2019-09-20T00:00:00+00:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://blog.nebrass.fr/images/playing-ocp-4-cover.webp">
<meta name=twitter:title content="Playing with OpenShift 4 locally">
<meta name=twitter:description content="January 2018, Red Hat acquired CoreOS for 250 million dollars ğŸ¤©. CoreOS was one of the leading companies of Linux & Containers market with their wide offer of products:
 CoreOS Tectonic: container application platform based on Kubernetes. CoreOS Container Linux: lightweight Linux distribution designed to run containerized applications. CoreOS Operators Framework: an open source toolkit designed to manage Kubernetes native applications. CoreOS Quay: a container registry for building, storing, and distributing your private containers.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://blog.nebrass.fr/posts/"},{"@type":"ListItem","position":3,"name":"Playing with OpenShift 4 locally","item":"https://blog.nebrass.fr/playing-with-openshift-4-locally/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Playing with OpenShift 4 locally","name":"Playing with OpenShift 4 locally","description":"January 2018, Red Hat acquired CoreOS for 250 million dollars ğŸ¤©. CoreOS was one of the leading companies of Linux \u0026amp; Containers market with their wide offer of products:\n CoreOS Tectonic: container application platform based on Kubernetes. CoreOS Container Linux: lightweight Linux distribution designed to run containerized applications. CoreOS Operators Framework: an open source toolkit designed to manage Kubernetes native applications. CoreOS Quay: a container registry for building, storing, and distributing your private containers.","keywords":[],"articleBody":"January 2018, Red Hat acquired CoreOS for 250 million dollars ğŸ¤©. CoreOS was one of the leading companies of Linux \u0026 Containers market with their wide offer of products:\n CoreOS Tectonic: container application platform based on Kubernetes. CoreOS Container Linux: lightweight Linux distribution designed to run containerized applications. CoreOS Operators Framework: an open source toolkit designed to manage Kubernetes native applications. CoreOS Quay: a container registry for building, storing, and distributing your private containers. CoreOS rkt: an application container engine developed for modern production cloud-native environments. even more and more..  Red HatOpenShift 3.x was facing many big problems especially in installations and upgrades. It was a real nightmare to install an OCP Cluster. I never heard an OCP Admin talking about upgrading OCP without discussing the problems that they faced. Personally, I worked for two customers from 2017 to 2019 that adopted OCP, and when it comes to cluster upgrades they were dedicating time and they were bringing people from Red Hat to help them do that ğŸ˜‚Â Although, the upgrades were guaranteed by Red Hat in all technical and commercial announcements.\nAt that moment, CoreOSâ€™s Kubernetes platform, called Tectonic, had already a great feature that made it less disturbing: the one click upgrades ğŸ¤© ! Yeah ! I remember the first time I installed a Tectonic cluster (v1.7). I tried to upgrade it to v1.8 with the one click upgrade button in the management console.. and every thing worked like a charm ! ğŸ¥³ I felt that it was a kind of a joke, or that were something wrong ğŸ¤ªğŸ¤ª\nRed Hat OCP was not suffering only from hard installations and upgrades.. it had many issues with the dedicated Docker Registry.. personally, I got it crashed many times, and I remember it also crashed when I was sitting for the OCP Certification that I failed ğŸ˜‚ At the same moment, CoreOS Tectonic is embedding the Quay Containers Registry ğŸ˜\nThis led Red Hat to go fast in acquiring CoreOS.. and they started at the same time talking about OpenShift 4.0 ğŸ˜\nMay 1st, 2019, the OpenShift 4.1 was released. Yeah ! There was no 4.0 version for some reasons ğŸ˜†\nGreat! What did OpenShift 4.1 bring new ?\nOpenShift 4.1 new features OpenShift brings many great features, starting of the version 4.1 :\n  Installation : a wizard will cover all the installation process steps and heavy tasks. No more painful installation experience ! ğŸ‘ˆ CoreOS Tectonic featureÂ ğŸ˜\n  Upgrade: the process will be easily done via a one-click operation from the administration console. No more headaches !Â ğŸ‘ˆ CoreOS Tectonic featureÂ ğŸ˜ NOTE: Upgrading from the 3.x to 4.x is not possible, obviously ğŸ¤“\n  Red Hat Enterprise Linux CoreOS: immutable OS more suitable for containerization and easily manageable ! No more RHEL administration fever ! ğŸ‘ˆ CoreOS Tectonic feature ğŸ˜\n  Operators: An Operator is a method of packaging, deploying and managing a Kubernetes application. A Kubernetes application is an application that is both deployed on Kubernetes and managed using the Kubernetes APIs and kubectl tooling. ğŸ‘ˆ CoreOS Tectonic feature ğŸ˜\nNow, most of the OpenShiftâ€™s components are now Operators:\n The registry is now managed by an Operator The networking is now configured and managed by an Operator. The Operator upgrades and monitors the cluster network. The cluster autoscaling is now handled by an Operator. The Operator    Enhanced Web console: The new release offers a great revisited Web Console and redesigned Developer Catalog that brings all of the new Operators and existing broker services together, with new ways to discover, sort, and understand how to best use each type of offering. There are also many new management screens that come with the new features.\n    Developer Experience: Red Hat brings a new tool called Code Ready Containers, a local desktop instance of OpenShift Container Platform 4.1 replaces the functions of oc cluster commands, Minishift, and CDK. OpenShift Container Platform 4.1 focuses on ease of access and native experience, with a native installation program on macOS and Microsoft Windows, native hypervisor support, and tray icon integration.  There are many great incoming features, like the Red Hat OpenShift Service Mesh that we have been waiting for long time ğŸ¥³\nPlaying with OpenShift 4.1 Locally\nIn the OpenShift 3.x era, we had the great Minishift tool that enables developers to have a local OpenShift Cluster. But as we listed before, OpenShift 4 come with a new tool called Code Ready Containers (aka CRC), that will bring a minimal OpenShift 4.0 or newer cluster to your local laptop or desktop computer.\nTo install the CRC, you need to go to try.openshift.com and click on Get Started:\n Next, you need to log in your Red Hat account; If you donâ€™t have one, you can create it for free in less than 2 minutes.\nNext, you will be redirected to the Red Hat OpenShift Cluster Manager dashboard:\n From this screen, you can create a cluster on many Cloud provider (Aws, Azure, etc..) or even on your dedicated servers; or on your Laptop, which is what we want to do ğŸ˜\nNext, click on Laptop button to access the download section:\n In this screen, you need to download the CRC binaries and the Pull secret, which is a Red Hat credentials generated for your account to authenticate the downloads that will be made by the CRC tool.\nAfter installing the binaries. You need to place it in your $PATH .. ğŸ¤“\nNext, we will start playing with the CRC.. the first command to do is\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18  $ crc setup INFO Checking if running as non-root INFO Caching oc binary INFO Setting up virtualization with HyperKit INFO Will use root access: change ownership of /Users/developer/.crc/bin/hyperkit INFO Will use root access: set suid for /Users/developer/.crc/bin/hyperkit INFO Installing crc-machine-hyperkit INFO Will use root access: change ownership of /Users/developer/.crc/bin/crc-driver-hyperkit INFO Will use root access: set suid for /Users/developer/.crc/bin/crc-driver-hyperkit INFO Setting file permissions for /etc/resolver/testing INFO Will use root access: create dir /etc/resolver INFO Will use root access: create file /etc/resolver/testing INFO Will use root access: change ownership of /etc/resolver/testing INFO Setting file permissions for /etc/hosts INFO Will use root access: change ownership of /etc/hosts INFO Unpacking bundle from the CRC binary Setup is complete, you can now run 'crc start' to start a CodeReady Containers instance   Next, as mentioned in the log, you need just to type crc startÂ to start a CRC instance ğŸ˜\n1 2 3 4 5 6 7 8 9  $ crc start INFO Checking if running as non-root INFO Checking if oc binary is cached INFO Checking if HyperKit is installed INFO Checking if crc-driver-hyperkit is installed INFO Checking file permissions for /etc/resolver/testing INFO Checking file permissions for /etc/hosts ? Image pull secret [? for help]   Now you need to past the pull secret that you grab from the Red Hat portal in the previous steps.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17  ? Image pull secret [? for help] ************************ ********************************************************* ********************************************************* INFO Loading bundle: crc_hyperkit_4.1.11.crcbundle ... INFO Extracting bundle: crc_hyperkit_4.1.11.crcbundle ... INFO Creating VM ... INFO Verifying validity of the cluster certificates ... INFO Restarting the host network INFO Check internal and public dns query ... INFO Copying kubeconfig file to instance dir ... INFO Adding user's pull secret and cluster ID ... INFO Starting OpenShift cluster ... [waiting 3m] INFO To access the cluster using 'oc', run 'eval $(crc oc-env) \u0026\u0026 oc login -u kubeadmin -p 78UVa-zNj5W-YB62Z-ggxGZ https://api.crc.testing:6443' INFO Access the OpenShift web-console here: https://console-openshift-console.apps-crc.testing INFO Login to the console with user: kubeadmin, password: 78UVa-zNj5W-YB62Z-ggxGZ CodeReady Containers instance is running   Great ! So our CRC instance is running and we get some informations in the log:\n  The OpenShift CLI login command: oc login -u kubeadmin -p 78UVa-zNj5W-YB62Z-ggxGZ https://api.crc.testing:6443\n  The OpenShift web-console URL: https://console-openshift-console.apps-crc.testing\n  The OpenShift web-console credentials:\n login: kubeadmin password: 78UVa-zNj5W-YB62Z-ggxGZ     If you have noticed, the URLs of the web-console or the Master node URL are made based on an *.testing domain name. This is a custom DNS name that is pointing on a local IP address..\nIn the log of the crc setup command, there some lines handling the /etc/hosts file..\nIf you ping a the domain name, you will get a local IP address like mine for example: 192.168.64.3\n Now, go to https://console-openshift-console.apps-crc.testing to access the OpenShift web-console:\n Click on the kube:adminÂ and you need to type the credentials listed in the log of the crc start command:\n Yoppa ! You will be redirected to the Web Console Dashboard:\n Yooopaa !ğŸ¥³ğŸ¤©Â Now every thing is up ! ğŸ¥³ğŸ¤© Letâ€™s deploy a sample application ğŸ˜\nFirst of all, click on Create Project:\n Next, click on Browse Catalog:\n Next, choose Apache HTTP Server (httpd) and click on Create Application:\n In the next form, click on the Try Sample, and tick the Create route and click Create:\n Next, you will see the Project Status screen:\n When the deployment is finished. Scroll down to in the menu and click on Routes in the Networking section:\n In this screen, we will get the Route URL created for our Hello World application:\n Now, click on the Location URL: http://httpd-hello-world.apps-crc.testing/ and you will see the application:\n Hakuna matata ! ğŸ¥³ğŸ¤©ğŸ¥³\nWe can also enter the OpenShift command: to check if every thing is ok ğŸ§ This command will show the Route URL that we got before from the Web Console:\n1 2 3  $ oc get routes -n hello-world httpd -o jsonpath='{.spec.host}' httpd-hello-world.apps-crc.testing   Cool ! Everything is working like a charm ! Yeah ! Iâ€™m wonderful ğŸ˜‚\nConclusion Iâ€™m really happy with the OpenShift 4 ! I really appreciate the product revolution ! I have the feeling that Iâ€™m dealing with a totally different product ğŸ˜\n","wordCount":"1634","inLanguage":"en","image":"https://blog.nebrass.fr/images/playing-ocp-4-cover.webp","datePublished":"2019-09-20T00:00:00Z","dateModified":"2019-09-20T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.nebrass.fr/playing-with-openshift-4-locally/"},"publisher":{"@type":"Organization","name":"Nebrass Homepage","logo":{"@type":"ImageObject","url":"https://blog.nebrass.fr/favicon.ico"}}}</script>
</head>
<body id=top>
<script>window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://blog.nebrass.fr accesskey=h title="Nebrass Homepage (Alt + H)">Nebrass Homepage</a>
<span class=logo-switches>
</span>
</div>
<ul id=menu>
<li>
<a href=https://blog.nebrass.fr/ title=Posts>
<span>Posts</span>
</a>
</li>
<li>
<a href=https://blog.nebrass.fr/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
<li>
<a href=https://blog.nebrass.fr/categories/ title=Categories>
<span>Categories</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Playing with OpenShift 4 locally
</h1>
<div class=post-meta><span title="2019-09-20 00:00:00 +0000 UTC">September 20, 2019</span>&nbsp;Â·&nbsp;8 min
</div>
</header>
<figure class=entry-cover><img loading=lazy src=https://blog.nebrass.fr/images/playing-ocp-4-cover.webp alt>
</figure>
<div class=post-content><p>January 2018, Red Hat acquired CoreOS for 250 million dollars ğŸ¤©. CoreOS was one of the leading companies of Linux & Containers market with their wide offer of products:</p>
<ul>
<li><strong>CoreOS Tectonic</strong>: container application platform based on Kubernetes.</li>
<li><strong>CoreOS Container Linux</strong>: lightweight Linux distribution designed to run containerized applications.</li>
<li><strong>CoreOS Operators Framework</strong>: an open source toolkit designed to manage Kubernetes native applications.</li>
<li><strong>CoreOS Quay</strong>: a container registry for building, storing, and distributing your private containers.</li>
<li><strong>CoreOS rkt</strong>: an application container engine developed for modern production cloud-native environments.</li>
<li>even more and more..</li>
</ul>
<p>Red HatOpenShift 3.x was facing many big problems especially in installations and upgrades. It was a real nightmare to install an OCP Cluster. I never heard an OCP Admin talking about upgrading OCP without discussing the problems that they faced. Personally, I worked for two customers from 2017 to 2019 that adopted OCP, and when it comes to cluster upgrades they were dedicating time and they were bringing people from Red Hat to help them do that ğŸ˜‚Â Although, the upgrades were guaranteed by Red Hat in all technical and commercial announcements.</p>
<p>At that moment, CoreOS&rsquo;s Kubernetes platform, called Tectonic, had already a great feature that made it less disturbing: the one click upgrades ğŸ¤© ! Yeah ! I remember the first time I installed a Tectonic cluster (v1.7). I tried to upgrade it to v1.8 with the one click upgrade button in the management console.. and every thing worked like a charm ! ğŸ¥³ I felt that it was a kind of a joke, or that were something wrong ğŸ¤ªğŸ¤ª</p>
<p>Red Hat OCP was not suffering only from hard installations and upgrades.. it had many issues with the dedicated Docker Registry.. personally, I got it crashed many times, and I remember it also crashed when I was sitting for the OCP Certification that I failed ğŸ˜‚ At the same moment, CoreOS Tectonic is embedding the Quay Containers Registry ğŸ˜</p>
<p>This led Red Hat to go fast in acquiring CoreOS.. and they started at the same time talking about OpenShift 4.0 ğŸ˜</p>
<p>May 1st, 2019, the OpenShift 4.1 was released. Yeah ! There was no 4.0 version for some reasons ğŸ˜†</p>
<p>Great! What did OpenShift 4.1 bring new ?</p>
<h2 id=openshift-41-new-features>OpenShift 4.1 new features<a hidden class=anchor aria-hidden=true href=#openshift-41-new-features>#</a></h2>
<p>OpenShift brings many great features, starting of the version 4.1 :</p>
<ul>
<li>
<p><strong>Installation</strong> : a wizard will cover all the installation process steps and heavy tasks. No more painful installation experience ! ğŸ‘ˆ CoreOS Tectonic featureÂ ğŸ˜</p>
</li>
<li>
<p><strong>Upgrade</strong>: the process will be easily done via a one-click operation from the administration console. No more headaches !Â ğŸ‘ˆ CoreOS Tectonic featureÂ ğŸ˜ <em>NOTE: Upgrading from the 3.x to 4.x is not possible, obviously ğŸ¤“</em></p>
</li>
<li>
<p><strong>Red Hat Enterprise Linux CoreOS</strong>: immutable OS more suitable for containerization and easily manageable ! No more RHEL administration fever ! ğŸ‘ˆ CoreOS Tectonic feature ğŸ˜</p>
</li>
<li>
<p><strong>Operators</strong>: An Operator is a method of packaging, deploying and managing a Kubernetes application. A Kubernetes application is an application that is both deployed on Kubernetes and managed using the Kubernetes APIs and <em>kubectl</em> tooling. ğŸ‘ˆ CoreOS Tectonic feature ğŸ˜</p>
<p>Now, most of the OpenShift&rsquo;s components are now Operators:</p>
<ul>
<li>The registry is now managed by an Operator</li>
<li>The networking is now configured and managed by an Operator. The Operator upgrades and monitors the cluster network.</li>
<li>The cluster autoscaling is now handled by an Operator. The Operator</li>
</ul>
</li>
<li>
<p><strong>Enhanced Web console</strong>: The new release offers a great revisited Web Console and redesigned Developer Catalog that brings all of the new Operators and existing broker services together, with new ways to discover, sort, and understand how to best use each type of offering. There are also many new management screens that come with the new features.</p>
</li>
</ul>
<div align=center>
<p><img loading=lazy src=../images/ocp-new-ui.webp alt>
</p>
</div>
<ul>
<li><strong>Developer Experience</strong>: Red Hat brings a new tool called <strong>Code Ready Containers</strong>, a local desktop instance of OpenShift Container Platform 4.1 replaces the functions of <code>oc cluster</code> commands, Minishift, and CDK. OpenShift Container Platform 4.1 focuses on ease of access and native experience, with a native installation program on macOS and Microsoft Windows, native hypervisor support, and tray icon integration.</li>
</ul>
<p>There are many great incoming features, like the <strong>Red Hat OpenShift Service Mesh</strong> that we have been waiting for long time ğŸ¥³</p>
<p><strong>Playing with OpenShift 4.1 Locally</strong></p>
<p>In the OpenShift 3.x era, we had the great <a href=https://github.com/minishift/minishift><strong>Minishift</strong></a> tool that enables developers to have a local OpenShift Cluster. But as we listed before, OpenShift 4 come with a new tool called <strong>Code Ready Containers (aka CRC)</strong>, that will bring a minimal <a href=http://github.com/openshift/origin>OpenShift 4.0 or newer</a> cluster to your local laptop or desktop computer.</p>
<p>To install the CRC, you need to go to <a href=https://try.openshift.com/>try.openshift.com</a> and click on <strong>Get Started</strong>:</p>
<div align=center>
<p><img loading=lazy src=../images/try-ocp-4.webp alt>
</p>
</div>
<p>Next, you need to log in your <em><strong>Red Hat account</strong></em>; If you don&rsquo;t have one, you can create it for free in less than 2 minutes.</p>
<p>Next, you will be redirected to the <em><strong>Red Hat OpenShift Cluster Manager</strong></em> dashboard:</p>
<div align=center>
<p><img loading=lazy src=../images/ocp-cluster-mgmt-dashboard.webp alt>
</p>
</div>
<p>From this screen, you can create a cluster on many Cloud provider (Aws, Azure, etc..) or even on your dedicated servers; or on your Laptop, which is what we want to do ğŸ˜</p>
<p>Next, click on Laptop button to access the download section:</p>
<div align=center>
<p><img loading=lazy src=../images/try-ocp-4-download.webp alt>
</p>
</div>
<p>In this screen, you need to download the CRC binaries and the Pull secret, which is a Red Hat credentials generated for your account to authenticate the downloads that will be made by the CRC tool.</p>
<p>After installing the binaries. You need to place it in your <code>$PATH</code> .. ğŸ¤“</p>
<p>Next, we will start playing with the CRC.. the first command to do is</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>$ crc setup

INFO Checking <span class=k>if</span> running as non-root              
INFO Caching oc binary                            
INFO Setting up virtualization with HyperKit      
INFO Will use root access: change ownership of /Users/developer/.crc/bin/hyperkit 
INFO Will use root access: <span class=nb>set</span> suid <span class=k>for</span> /Users/developer/.crc/bin/hyperkit 
INFO Installing crc-machine-hyperkit              
INFO Will use root access: change ownership of /Users/developer/.crc/bin/crc-driver-hyperkit 
INFO Will use root access: <span class=nb>set</span> suid <span class=k>for</span> /Users/developer/.crc/bin/crc-driver-hyperkit 
INFO Setting file permissions <span class=k>for</span> /etc/resolver/testing 
INFO Will use root access: create dir /etc/resolver 
INFO Will use root access: create file /etc/resolver/testing 
INFO Will use root access: change ownership of /etc/resolver/testing 
INFO Setting file permissions <span class=k>for</span> /etc/hosts      
INFO Will use root access: change ownership of /etc/hosts 
INFO Unpacking bundle from the CRC binary         
Setup is complete, you can now run <span class=s1>&#39;crc start&#39;</span> to start a CodeReady Containers instance
</code></pre></td></tr></table>
</div>
</div><p>Next, as mentioned in the log, you need just to type <code>crc start</code>Â  to start a CRC instance ğŸ˜</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>$ crc start

INFO Checking <span class=k>if</span> running as non-root              
INFO Checking <span class=k>if</span> oc binary is cached              
INFO Checking <span class=k>if</span> HyperKit is installed            
INFO Checking <span class=k>if</span> crc-driver-hyperkit is installed 
INFO Checking file permissions <span class=k>for</span> /etc/resolver/testing 
INFO Checking file permissions <span class=k>for</span> /etc/hosts     
? Image pull secret <span class=o>[</span>? <span class=k>for</span> help<span class=o>]</span>
</code></pre></td></tr></table>
</div>
</div><p>Now you need to past the pull secret that you grab from the Red Hat portal in the previous steps.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>? Image pull secret <span class=o>[</span>? <span class=k>for</span> help<span class=o>]</span> ************************
*********************************************************
*********************************************************

INFO Loading bundle: crc_hyperkit_4.1.11.crcbundle ...
INFO Extracting bundle: crc_hyperkit_4.1.11.crcbundle ...
INFO Creating VM ...
INFO Verifying validity of the cluster certificates ...
INFO Restarting the host network
INFO Check internal and public dns query ... 
INFO Copying kubeconfig file to instance dir ...
INFO Adding user<span class=s1>&#39;s pull secret and cluster ID ...
</span><span class=s1>INFO Starting OpenShift cluster ... [waiting 3m] 
</span><span class=s1>INFO To access the cluster using &#39;</span>oc<span class=s1>&#39;, run &#39;</span><span class=nb>eval</span> <span class=k>$(</span>crc oc-env<span class=k>)</span> <span class=o>&amp;&amp;</span> oc login -u kubeadmin -p 78UVa-zNj5W-YB62Z-ggxGZ https://api.crc.testing:6443<span class=err>&#39;</span>
INFO Access the OpenShift web-console here: https://console-openshift-console.apps-crc.testing
INFO Login to the console with user: kubeadmin, password: 78UVa-zNj5W-YB62Z-ggxGZ
CodeReady Containers instance is running
</code></pre></td></tr></table>
</div>
</div><p>Great ! So our CRC instance is running and we get some informations in the log:</p>
<ul>
<li>
<p><strong>The OpenShift CLI login command:</strong> <code>oc login -u kubeadmin -p 78UVa-zNj5W-YB62Z-ggxGZ https://api.crc.testing:6443</code></p>
</li>
<li>
<p><strong>The OpenShift web-console URL:</strong> <a href=https://console-openshift-console.apps-crc.testing>https://console-openshift-console.apps-crc.testing</a></p>
</li>
<li>
<p><strong>The OpenShift web-console credentials:</strong></p>
<ul>
<li><em>login</em>: kubeadmin</li>
<li><em>password</em>: 78UVa-zNj5W-YB62Z-ggxGZ</li>
</ul>
</li>
</ul>
<blockquote>
<p>If you have noticed, the URLs of the web-console or the Master node URL are made based on an *.testing domain name. This is a custom DNS name that is pointing on a local IP address..</p>
<p>In the log of the <strong>crc setup</strong> command, there some lines handling the <strong>/etc/hosts</strong> file..</p>
<p>If you ping a the domain name, you will get a local IP address like mine for example: <strong>192.168.64.3</strong></p>
</blockquote>
<p>Now, go to <a href=https://console-openshift-console.apps-crc.testing>https://console-openshift-console.apps-crc.testing</a> to access the OpenShift web-console:</p>
<div align=center>
<p><img loading=lazy src=../images/ocp-web-console-login.webp alt>
</p>
</div>
<p>Click on the <code>kube:admin</code>Â  and you need to type the credentials listed in the log of the <code>crc start</code> command:</p>
<div align=center>
<p><img loading=lazy src=../images/ocp-web-console-login-form.webp alt>
</p>
</div>
<p>Yoppa ! You will be redirected to the Web Console Dashboard:</p>
<div align=center>
<p><img loading=lazy src=../images/ocp-web-console-screen.webp alt>
</p>
</div>
<p>Yooopaa !ğŸ¥³ğŸ¤©Â  Now every thing is up ! ğŸ¥³ğŸ¤© Let&rsquo;s deploy a sample application ğŸ˜</p>
<p>First of all, click on <strong>Create Project</strong>:</p>
<div align=center>
<p><img loading=lazy src=../images/ocp-web-console-project-creation.webp alt>
</p>
</div>
<p>Next, click on <strong>Browse Catalog</strong>:</p>
<div align=center>
<p><img loading=lazy src=../images/ocp-web-console-create.webp alt>
</p>
<p><img loading=lazy src=../images/ocp-web-console-catalog.webp alt>
</p>
</div>
<p>Next, choose <em><strong>Apache HTTP Server (httpd)</strong></em> and click on <em><strong>Create Application</strong></em>:</p>
<div align=center>
<p><img loading=lazy src=../images/ocp-web-console-catalog-httpd.webp alt>
</p>
</div>
<p>In the next form, click on the <em><strong>Try Sample,</strong></em> and tick the <strong><em>Create route</em></strong> and click <strong>Create</strong>:</p>
<div align=center>
<p><img loading=lazy src=../images/ocp-web-console-catalog-httpd-form.webp alt>
</p>
</div>
<p>Next, you will see the <em><strong>Project Status</strong></em> screen:</p>
<div align=center>
<p><img loading=lazy src=../images/ocp-web-console-catalog-httpd-created.webp alt>
</p>
</div>
<p>When the deployment is finished. Scroll down to in the menu and click on <strong>Routes</strong> in the <strong>Networking</strong> section:</p>
<div align=center>
<p><img loading=lazy src=../images/ocp-web-console-network-route.webp alt>
</p>
</div>
<p>In this screen, we will get the <strong>Route URL</strong> created for our <strong>Hello World</strong> application:</p>
<div align=center>
<p><img loading=lazy src=../images/ocp-web-console-network-route-list.webp alt>
</p>
</div>
<p>Now, click on the Location URL: <a href=http://httpd-hello-world.apps-crc.testing/>http://httpd-hello-world.apps-crc.testing/</a> and you will see the application:</p>
<div align=center>
<p><img loading=lazy src=../images/ocp-application-welcome-page.webp alt>
</p>
</div>
<p>Hakuna matata ! ğŸ¥³ğŸ¤©ğŸ¥³</p>
<p>We can also enter the OpenShift command: to check if every thing is ok ğŸ§ This command will show the Route URL that we got before from the Web Console:</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>$ oc get routes -n hello-world httpd -o <span class=nv>jsonpath</span><span class=o>=</span><span class=s1>&#39;{.spec.host}&#39;</span>

httpd-hello-world.apps-crc.testing
</code></pre></td></tr></table>
</div>
</div><p>Cool ! Everything is working like a charm ! Yeah ! I&rsquo;m wonderful ğŸ˜‚</p>
<h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2>
<p>I&rsquo;m really happy with the OpenShift 4 ! I really appreciate the product revolution ! I have the feeling that I&rsquo;m dealing with a totally different product ğŸ˜</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
</ul>
<div class=share-buttons>
<a target=_blank rel="noopener noreferrer" aria-label="share Playing with OpenShift 4 locally on twitter" href="https://twitter.com/intent/tweet/?text=Playing%20with%20OpenShift%204%20locally&url=https%3a%2f%2fblog.nebrass.fr%2fplaying-with-openshift-4-locally%2f&hashtags="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Playing with OpenShift 4 locally on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fblog.nebrass.fr%2fplaying-with-openshift-4-locally%2f&title=Playing%20with%20OpenShift%204%20locally&summary=Playing%20with%20OpenShift%204%20locally&source=https%3a%2f%2fblog.nebrass.fr%2fplaying-with-openshift-4-locally%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Playing with OpenShift 4 locally on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.nebrass.fr%2fplaying-with-openshift-4-locally%2f&title=Playing%20with%20OpenShift%204%20locally"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Playing with OpenShift 4 locally on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.nebrass.fr%2fplaying-with-openshift-4-locally%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Playing with OpenShift 4 locally on whatsapp" href="https://api.whatsapp.com/send?text=Playing%20with%20OpenShift%204%20locally%20-%20https%3a%2f%2fblog.nebrass.fr%2fplaying-with-openshift-4-locally%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share Playing with OpenShift 4 locally on telegram" href="https://telegram.me/share/url?text=Playing%20with%20OpenShift%204%20locally&url=https%3a%2f%2fblog.nebrass.fr%2fplaying-with-openshift-4-locally%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://blog.nebrass.fr>Nebrass Homepage</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
</body>
</html>